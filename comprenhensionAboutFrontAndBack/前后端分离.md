#             前后端分离            

### 前言

上一周一直在做实验、写实验报告，时间比较少，了解前后端分离的计划也被搁置了。之前对于前后端分离的理解一直停留在web开发阶段前端和后端的分工，也就是前端负责布局、渲染逻辑，后端负责数据库、业务逻辑这些方面。写这篇文章是为了记录自己对于前后端分离的新理解。主要是关于**代码组织方式**、**开发模式**、**数据交互**、**API接口**这些方面。（包含了很多模糊的概念）

**高内聚 低耦合**（一个软件工程的概念）

### 代码组织

在前后端分离这种架构模式出来之前，前端代码和后端代码是放到同一个项目里面的，用专业的词汇来说就是耦合（也就是联系、连接的意思）这样的代码组织方式是非常糟糕，有非常多的弊端。如下.

- 前端代码和后端代码放在同一个项目中意味着前端需要配置后端的环境，这是非常麻烦的
- 会出现后端工程师写前端代码的情况
- 职责不分离，**扯皮**

关于代码组织，有如下三种方式

- **不分离**

	不分离也就是上面所谈论的这种情况，前端代码和后端代码放在同一个项目下（或者说工程目录更加贴切）

- **半分离**

	这个是前后端分离概念刚出来时候的一种过渡模式。大体上就是指前后端的代码放在不同的目录下，但是依然存放在同一个代码仓库中。这样后端可以不用去管前端的数据，但是给前端带来了测试的问题。这个问题比前后端不分离更加糟糕。

- **分离**

	在前后端分离的模式下，代码存放在不同的仓库。前端的测试问题也通过mock来解决了（mock大概就是一个类似伪后端的东西），这意味着前端可以独立地进行测试。后端也不需要去管前端的数据了。

### 数据交互

前端需要的数据都是从后台的数据库中拿到的，想要拿到后端的数据，必然牵扯到数据交互的问题。

简单的来说，就是ajax通过浏览器发送http请求，后端通过api接口返回一定类型的数据。（这种数据一般都是JSON格式的，因为json和js的对象很像，便于前端解析数据。）。需要注意的是，ajax是一种异步的技术，可以避免浏览器的请求过多发生阻塞。

### 开发模式

我觉得应该讲一讲jsp这个技术。这个技术允许在html中内嵌java代码，重点是，这种操作非常简单。在前后端分离没有出来之前，大量的内嵌代码。（这里我觉得也是一种**耦合**，非常糟糕）业务逻辑等等全部嵌套在一起，给维护和优化带来了若干问题。

其实怎么说呢，jsp技术的没落是随着web服务的复杂化造成的，因为变复杂了，原生的h5c3js等技术来构建就会变得非常繁琐（在我看来这种原生开发是一种**非常糟糕**的方式，或者说愚蠢，因为没有考虑到很重要的一点，可复用性，其实这个时候后端已经有类似于spring这样的框架，可以进行比较快速的开发）

那就在这里说一下为什么前后端会分离，我觉得这主要是为了前端的**工程化**考量，就我自己学习前端的一个感触就是，前端真的好琐碎，感觉自己就是一个前端切图仔、然后各种各样的c3样式堆叠，类似于一种人肉般的调试，真的是非常痛苦。工程化就很好地解决了这些问题。

在网上找了两张图：

![图片.png](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1190477b29574bba996914dfbb618e4c~tplv-k3u1fbpfcp-watermark.image?)

这张图是前后端分离之前的架构

![图片.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/603cbf8381cb4bc994a4da7d4f1995eb~tplv-k3u1fbpfcp-watermark.image?)

这张图是分离之后的架构

从这两张图也可以看出来前后端分离的若干好处，之前谈过，略。

### 接口

接口一定要**规范**，在项目开始之前，前端工程师和后端工程师需要商定好接口的**交互形式**和**数据格式**。之后前后端可以并行开发，后端写好各种业务逻辑、接口、接口文档，依靠测试用例来进行接口的测试。前端需要编写页面，然后利用前面谈及的mock工具进行自测。之后联合测试，产品上线，大概是这样一个流程。

**参考博客**

参考了思否一位大佬的博客，大概是他们公司刚进行前后端分离时的一些感悟。